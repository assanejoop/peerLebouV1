<!-- opportunite-details.component.html -->
<div class="opportunite-details-container">
    <!-- Loading state -->
    <div class="loading-container" *ngIf="loading">
      <p>Chargement de l'opportunité...</p>
    </div>
    
    <!-- Error state -->
    <div class="error-container" *ngIf="error">
      <p>Impossible de charger les détails de l'opportunité. Veuillez réessayer plus tard.</p>
      <button class="back-btn" (click)="goBack()">Retour aux opportunités</button>
    </div>
    
    <!-- Content -->
    <div class="opportunite-content" *ngIf="!loading && !error && opportunite">
      <button class="back-btn" (click)="goBack()">
        <span class="back-icon">&larr;</span> Retour
      </button>
      
      <div class="opportunite-header">
        <span class="opportunite-category">{{ opportunite.categorie }}</span>
        <h1 class="opportunite-title">{{ opportunite.titre }}</h1>
        <div class="opportunite-meta">
          <div class="author-info">
            <img 
              [src]="getFullImageUrl(opportunite.auteurimg)" 
              alt="{{ opportunite.auteur }}"
              class="author-img"
              onerror="this.src='assets/images/user-placeholder.jpg'"
            >
            <span>Par: {{ opportunite.auteur }}</span>
          </div>
          <span class="opportunite-date">{{ formatDate(opportunite.date) }}</span>
        </div>
      </div>
      
      <div class="opportunite-main-image">
        <img 
          [src]="getFullImageUrl(opportunite.img)" 
          alt="{{ opportunite.titre }}"
          onerror="this.src='assets/images/placeholder.jpg'"
        >
      </div>
      
      <div class="opportunite-description">
        <p [innerHTML]="opportunite.descr"></p>
      </div>
      
      <div class="opportunite-actions" *ngIf="opportunite.lien">
        <a [href]="opportunite.lien" target="_blank" rel="noopener noreferrer" class="action-btn">
          En savoir plus
        </a>
      </div>
      
      <div class="opportunite-footer">
        <div class="share-links">
          <span>Partager:</span>
          <a href="#" class="social-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
            </svg>
          </a>
          <a href="#" class="social-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
            </svg>
          </a>
          <a href="#" class="social-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
              <rect x="2" y="9" width="4" height="12"></rect>
              <circle cx="4" cy="4" r="2"></circle>
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>